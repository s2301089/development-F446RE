/*
 * USART_Arduino_IT.c
 *
 *  Created on: Mar 4, 2025
 *      Author: Mitsu
 */

#include "USART_Arduino_IT.h"
#include <stdio.h>

static uint8_t Adata[REV_SIZE] = {};
static uint8_t Gdata = 0;
bool AFF = 0;

int getData(UART_HandleTypeDef* huart,getdata* revdata){
//	printf("getData\r\n");
	HAL_UART_Receive_IT(huart, &Gdata, 1);
	printf("snct\r\n");
}

void HAL_UART_RxCpltCallback(UART_HandleTypeDef* huart){
	static int Gcount;
	static int timeout;
	if(Gdata == 0xaf){
		AFF = true;
		Gcount = 0;
	}else{
		timeout++;
		if(timeout >= TIMEOUT_MAX){
			timeout = 0;
		}
	}
}
